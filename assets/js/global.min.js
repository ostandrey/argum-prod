!function(e){"use strict";const t=e(window),o=(e(document),e("body")),s=(e,t)=>{let o;return function(){const s=arguments,n=this;o||(e.apply(n,s),o=!0,setTimeout(()=>o=!1,t))}},n=(e,t)=>{let o;return(...s)=>{clearTimeout(o),o=setTimeout(()=>e.apply(this,s),t)}},a=n(()=>{requestAnimationFrame(()=>{e(".videoHolder").each(function(){const t=e(this),o=t.data("ratio")||"16:9",[s,n]=o.split(":").map(parseFloat);t.find(".video").each(function(){const o=e(this);t.width()/s>t.height()/n?o.css({width:"100%",height:"auto"}):o.css({width:t.height()*s/n,height:"100%"})})})})},100),i=()=>{e(".hero__tab").on("click",function(t){t.preventDefault();const o=e(this).data("tab-index");e(".hero__tab").removeClass("active"),e(this).addClass("active"),e(".tab-pane").removeClass("show active"),e(`#hero-tab-pane-${o}`).addClass("show active"),e(".hero__img").removeClass("active"),e(`.hero__img[data-tab-img="${o}"]`).addClass("active")})},l=()=>{e(".faq-list__question").on("click",function(){const t=e(this).parent(),o=t.hasClass("active");e(".faq-list__item").removeClass("active"),e(".faq-list__answer").slideUp(300),o||(t.addClass("active"),t.find(".faq-list__answer").slideDown(300))})},r=s(()=>{(()=>{const t=e(".client-reviews__slider");t.hasClass("slick-initialized")&&t.slick("unslick"),t.slick({slidesToShow:1,slidesToScroll:1,arrows:!0,dots:!1,infinite:!0,speed:500,cssEase:"ease",autoplay:!0,autoplaySpeed:5e3,adaptiveHeight:!1,variableWidth:!1,centerMode:!1,lazyLoad:"ondemand",prevArrow:'<button type="button" class="slick-prev" aria-label="Previous slide"></button>',nextArrow:'<button type="button" class="slick-next" aria-label="Next slide"></button>',responsive:[{breakpoint:801,settings:{arrows:!1,dots:!1,autoplay:!1,swipe:!0,touchMove:!0,slidesToShow:1,slidesToScroll:1,variableWidth:!1,centerMode:!1,adaptiveHeight:!0}}]})})()},250);t.on("resize",r);const d=()=>{e(".service-card__btn").on("click",function(t){t.preventDefault();const o=e(this).attr("href");e("html, body").animate({scrollTop:e(o).offset().top-50},800)})},c=()=>{e("#serviceForm").on("submit",function(t){let o=!0;if(e(this).find("[required]").each(function(){e(this).val()?e(this).removeClass("is-invalid"):(o=!1,e(this).addClass("is-invalid"))}),!o){t.preventDefault();const o=e(this).find(".is-invalid:first");o.length&&e("html, body").animate({scrollTop:o.offset().top-100},500)}}),e("#serviceForm").find("input, select, textarea").on("change",function(){e(this).val()&&e(this).removeClass("is-invalid")})},m=()=>ScrollOut({offset:()=>window.innerHeight-200,once:!0,onShown:t=>{e(t).is(".ease-order")&&e(t).find(".ease-order__item").each(function(t){const o=e(this);e(this).attr("data-scroll",""),setTimeout(()=>{o.attr("data-scroll","in")},300*t)})}}),h=()=>{e("input, textarea").each(function(){const t=e(this);t.data("holder",t.attr("placeholder")),t.on("focusin",function(){e(this).attr("placeholder","")}),t.on("focusout",function(){e(this).attr("placeholder",e(this).data("holder"))})})},g=()=>{e(document).on("gform_confirmation_loaded",(t,o)=>{const s=e(`#gform_confirmation_wrapper_${o}`);s.length&&e("html, body").animate({scrollTop:s.offset().top-300},500)}),e("body").on("change keyup",".gfield input, .gfield textarea, .gfield select",function(){const t=e(this).closest(".gfield");t.hasClass("gfield_error")&&(e(this).val().length?t.find(".validation_message").hide():t.find(".validation_message").show())})},u=()=>{if("undefined"==typeof ajax_object)return void console.error("ajax_object is not defined");e(".filter-button").on("click",function(t){t.preventDefault();const o=e(this),s=o.data("section"),n=o.data("parent"),a=o.data("subcat");o.hasClass("active")?console.log("Button already active, skipping"):("size"===s?e(".drones-by-size .filter-button").removeClass("active loading disabled"):"task"===s&&e(".drones-by-task .filter-button").removeClass("active loading disabled"),o.addClass("active").removeClass("loading disabled"),((t,o,s,n)=>{const a="size"===t?"#size-showcase":"#task-showcase",i="size"===t?"drone_size":"drone_task_type";e.ajax({url:ajax_object.ajax_url,type:"POST",data:{action:"load_drone_by_category",parent_slug:o,subcat_slug:s,taxonomy:i,nonce:ajax_object.nonce},beforeSend:()=>{e(a).addClass("loading").css("opacity","0.5")},success:t=>{t.success?e(a).html(t.data.html).removeClass("loading").css("opacity","1"):e(a).removeClass("loading").css("opacity","1")},error:(t,o,s)=>{console.error("AJAX error:",s),e(a).removeClass("loading").css("opacity","1")},complete:()=>{e(a).removeClass("loading").css("opacity","1"),n.removeClass("loading disabled").addClass("active")}})})(s,n,a,o),((e,t,o)=>{const s=new URLSearchParams(window.location.search);"size"===e?(s.set("size",t),s.set("size_subcat",o)):"task"===e&&(s.set("task",t),s.set("task_subcat",o));const n=window.location.pathname+"?"+s.toString();window.history.pushState({},"",n)})(s,n,a))}),e(document).ready(()=>{e(".filter-button").removeClass("loading disabled"),e(".drone-showcase").removeClass("loading").css("opacity","1")})},p=()=>{e(".acf-map").each(function(){v(e(this))})},f=()=>{const e=document.getElementById("mobileMenuToggle"),t=document.getElementById("mobileMenu");if(e&&t){e.addEventListener("click",function(){this.classList.toggle("active"),t.classList.toggle("active")});t.querySelectorAll("a").forEach(o=>{o.addEventListener("click",function(){e.classList.remove("active"),t.classList.remove("active")})}),document.addEventListener("click",function(o){t.contains(o.target)||e.contains(o.target)||(e.classList.remove("active"),t.classList.remove("active"))})}};document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("langTrigger"),t=document.getElementById("langModal");if(!e||!t)return;let o=document.getElementById("langOverlay");o||(o=document.createElement("div"),o.className="lang-overlay",o.id="langOverlay",document.body.appendChild(o));const s=()=>{t.classList.remove("active"),e.classList.remove("active"),o.classList.remove("active")};e.addEventListener("click",n=>{n.stopPropagation(),t.classList.contains("active")?s():(t.classList.add("active"),e.classList.add("active"),o.classList.add("active"))}),o.addEventListener("click",s),document.addEventListener("click",o=>{e.contains(o.target)||t.contains(o.target)||s()}),document.addEventListener("keydown",e=>{"Escape"===e.key&&t.classList.contains("active")&&s()}),t.addEventListener("click",e=>{e.stopPropagation()})});const v=t=>{const o=t.find(".marker"),s={zoom:16,center:new google.maps.LatLng(0,0),mapTypeId:google.maps.MapTypeId.ROADMAP,scrollwheel:!1},n=new google.maps.Map(t[0],s);n.markers=[],o.each(function(){_(e(this),n)}),y(n)};let w;const _=(t,o)=>{const s=new google.maps.LatLng(t.attr("data-lat"),t.attr("data-lng")),n=new google.maps.Marker({position:s,map:o});o.markers.push(n),e.trim(t.html())&&(w=new google.maps.InfoWindow,google.maps.event.addListener(n,"click",function(){w.close(),w.setContent(t.html()),w.open(o,n)}))},y=t=>{const o=new google.maps.LatLngBounds;e.each(t.markers,function(e,t){const s=new google.maps.LatLng(t.position.lat(),t.position.lng());o.extend(s)}),1===t.markers.length?t.setCenter(o.getCenter()):t.fitBounds(o)};let b;e(document).ready(function(){(()=>{const e=n=>{const a=n.key||n.keyCode;"Tab"!==a&&"9"!==a||(o.removeClass("no-outline"),t.off("keydown",e),t.on("mousedown",s))},s=()=>{o.addClass("no-outline"),t.off("mousedown",s),t.on("keydown",e)};t.on("keydown",e)})(),i(),(()=>{const t=e(".portfolio__item"),o=e("#load-more-btn"),s=t.length;t.hide(),s>9&&o.show(),t.slice(0,9).show(),o.on("click",function(e){e.preventDefault();const n=t.filter(":visible").length;t.slice(n,n+3).fadeIn(),t.filter(":visible").length>=s&&o.hide()})})(),(()=>{const e=document.querySelector(".header__search-button"),t=document.querySelector(".header__search label");e&&t&&e.addEventListener("click",()=>{t.classList.toggle("active")})})(),l(),(()=>{const t=e(".drone-hero__slider");t.length&&(t.slick({slidesToShow:1,slidesToScroll:1,arrows:!0,dots:!0,infinite:!0,speed:300,adaptiveHeight:!0,lazyLoad:"ondemand",prevArrow:'\n                <button type="button" class="drone-hero__slider-arrow drone-hero__slider-arrow--prev">\n                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                        <path d="M15 19L8 12L15 5" stroke="#A1A0A0" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n                    </svg>\n                </button>\n            ',nextArrow:'\n                <button type="button" class="drone-hero__slider-arrow drone-hero__slider-arrow--next">\n                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                        <path d="M9 5L16 12L9 19" stroke="#A1A0A0" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n                    </svg>\n                </button>\n            ',dotsClass:"drone-hero__slider-nav",customPaging:()=>'<div class="drone-hero__slider-dot"></div>'}),t.on("afterChange",(t,o,s)=>{e(".drone-hero__slider-dot").removeClass("drone-hero__slider-dot--active"),e(".drone-hero__slider-dot").eq(s).addClass("drone-hero__slider-dot--active")}),e(".drone-hero__slider-dot").first().addClass("drone-hero__slider-dot--active"))})(),e(".logos-slider").slick({dots:!1,infinite:!0,speed:500,slidesToShow:5,slidesToScroll:5,arrows:!0,lazyLoad:"ondemand",responsive:[{breakpoint:1525,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:1080,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:800,settings:{slidesToShow:1,slidesToScroll:1}}]}),e(".reviews__list").slick({dots:!1,infinite:!0,speed:500,autoplay:!1,autoplaySpeed:3e3,slidesToShow:1,slidesToScroll:1,arrows:!0,adaptiveHeight:!0,lazyLoad:"ondemand"}),e(".specialties-gallery__list").slick({dots:!1,infinite:!0,speed:500,slidesToShow:3,slidesToScroll:1,arrows:!0,lazyLoad:"ondemand",responsive:[{breakpoint:992,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:756,settings:{slidesToShow:1,slidesToScroll:1}}]}),setTimeout(()=>{e(".drones-slider").slick({slidesToShow:3,slidesToScroll:1,arrows:!0,prevArrow:e(".drones-slider-prev"),nextArrow:e(".drones-slider-next"),dots:!1,infinite:!1,speed:500,cssEase:"ease",variableWidth:!1,centerMode:!1,adaptiveHeight:!0,lazyLoad:"ondemand",responsive:[{breakpoint:1200,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:768,settings:{slidesToShow:1,slidesToScroll:1}}]})},100),d(),e.fancybox&&(e(".media-reviews__gallery").find('a[href$="jpg"], a[href$="png"], a[href$="gif"]').attr("rel","media-reviews").attr("data-fancybox","media-reviews"),e('a[data-fancybox="media-reviews"]').fancybox({minHeight:0,helpers:{overlay:{locked:!1}}}),e("a.media-reviews__link--video").fancybox({type:"iframe",minHeight:0,helpers:{overlay:{locked:!1}},iframe:{preload:!1}}),e(".gallery-item").find('a[href$="jpg"], a[href$="png"], a[href$="gif"]').attr("rel","gallery").attr("data-fancybox","gallery"),e('a[rel*="album"], .fancybox, a[href$="jpg"], a[href$="png"], a[href$="gif"]').fancybox({minHeight:0,helpers:{overlay:{locked:!1}}})),c(),document.querySelectorAll(".toggle-extended-content").forEach(e=>{e.addEventListener("click",()=>{const t=e.getAttribute("data-target"),o=document.querySelector(t);"none"===o.style.display?(o.style.display="block",e.classList.remove("reviews__button--plus")):(o.style.display="none",e.classList.add("reviews__button--plus"))})}),(()=>{if("IntersectionObserver"in window){const t=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){const o=e.target;o.dataset.lazySrc&&(o.src=o.dataset.lazySrc,o.classList.remove("pre-lazyload"),o.classList.add("lazyloaded"),t.unobserve(o))}})},{rootMargin:"50px 0px",threshold:.01});return document.querySelectorAll("img[data-lazy-src]").forEach(e=>{t.observe(e)}),e(".slick-slider").on("beforeChange",()=>{document.querySelectorAll("img[data-lazy-src]:not(.lazyloaded)").forEach(e=>{t.observe(e)})}),t}{const t=new LazyLoad({elements_selector:"img[data-lazy-src],.pre-lazyload",data_src:"lazy-src",data_srcset:"lazy-srcset",data_sizes:"lazy-sizes",skip_invisible:!1,class_loading:"lazyloading",class_loaded:"lazyloaded"});window.addEventListener("LazyLoad::Initialized",()=>{window.MutationObserver&&new MutationObserver(e=>{e.forEach(e=>{e.addedNodes.forEach(e=>{"function"==typeof e.getElementsByTagName&&e.getElementsByTagName("img").length>0&&t.update()})})}).observe(document.body,{childList:!0,subtree:!0})},!1),e(".slick-slider").on("beforeChange",()=>{t.update()})}})(),b=m(),h(),g(),u(),p(),f(),(()=>{const e=document.getElementById("header");if(!e)return;const t=s(()=>{window.scrollY>50?e.classList.add("fixed-header"):e.classList.remove("fixed-header")},16);window.addEventListener("scroll",t)})(),(()=>{const t=e(".client-reviews__slider"),o=()=>{e(window).width()<=767?(t.hasClass("slick-initialized")&&t.slick("unslick"),t.addClass("mobile-scroll")):(t.removeClass("mobile-scroll"),t.hasClass("slick-initialized")||t.slick({slidesToShow:1,slidesToScroll:1,arrows:!0,dots:!1,infinite:!0,autoplay:!1,responsive:[{breakpoint:575,settings:{slidesToShow:1,slidesToScroll:1}}]}))};o(),e(window).on("resize",n(o,200))})(),e(".of-cover, .stretched-img").length&&objectFitImages(".of-cover, .stretched-img"),e(".matchHeight").matchHeight(),a(),e(window).on("orientationchange",()=>{e("#main-menu").dropdown("hide")})}),e(window).on("load",function(){void 0!==b&&"function"==typeof b.update&&b.update(),e(".preloader").length&&e(".preloader").addClass("preloader--hidden"),setTimeout(()=>{e(".careers__work a").each(function(){e(this).attr("target","_blank")})},700)});const k=n(a,200),L=n(()=>{e("#main-menu").dropdown("hide")},200);e(window).on("resize",function(){k();const t=e(".header").find(".navbar");if(t.length){const o=e.grep(t[0].className.split(" "),e=>-1!==e.indexOf("navbar-expand")).join();if(o.length){const s=o.replace("navbar-expand-",""),n=getComputedStyle(document.body).getPropertyValue(`--breakpoint-${s}`).replace(/\D/g,"");window.innerWidth>n&&(t.find(".dropdown-menu").hasClass("show")||e("#main-menu").hasClass("show"))&&L()}}})}(jQuery),document.addEventListener("DOMContentLoaded",function(){const e=e=>{const t=document.querySelector(`#gform_${e}`);if(!t||t.querySelector(".gform_column"))return;const o=t.querySelector(".gform_fields"),s=t.querySelector(".gform_body"),n=o?.querySelectorAll(".gfield");if(!o||!s||!n?.length)return;const a=document.createElement("div");a.className="gform_column left-column";const i=document.createElement("div");i.className="gform_column right-column",n.forEach((e,t)=>{(t<4?a:i).appendChild(e.cloneNode(!0))}),o.innerHTML="",s.innerHTML="",s.appendChild(a),s.appendChild(i);const l=t.querySelector(".gform_footer");l&&i.appendChild(l),console.log(`Form ${e} configured`)},t=()=>{["1","2","4","5"].forEach(e)};setTimeout(t,500),"undefined"!=typeof gform&&gform.addAction("gform_post_render",()=>{setTimeout(t,100)}),new MutationObserver(e=>{e.some(e=>Array.from(e.addedNodes).some(e=>1===e.nodeType&&(e.classList?.contains("gform_wrapper")||e.querySelector?.(".gform_wrapper"))))&&setTimeout(t,100)}).observe(document.body,{childList:!0,subtree:!0})});const generateTableOfContents=()=>{const e=document.getElementById("toc-container");if(!e)return;const t=document.querySelectorAll(".blog-single__content h2, .blog-single__content h3, .blog-single__content h4, .blog-single__content h5, .blog-single__content h6");if(0===t.length)return;const o=document.createElement("div");o.className="blog-single__toc-title",o.textContent="Table of Contents:",e.appendChild(o);const s=document.createElement("ul");s.className="blog-single__toc-list",t.forEach((e,t)=>{e.id||(e.id=`heading-${t}`);const o=document.createElement("li");o.className="blog-single__toc-item";const n=document.createElement("a");n.href=`#${e.id}`,n.textContent=e.textContent,n.className="blog-single__toc-link",o.appendChild(n),s.appendChild(o)}),e.appendChild(s)},showToast=(e,t="success")=>{let o=document.querySelector(".toast-container");o||(o=document.createElement("div"),o.className="toast-container",document.body.appendChild(o));const s=document.createElement("div");s.className=`toast ${t}`;const n="success"===t?"✓":"✕";s.innerHTML=`\n        <span class="toast-icon">${n}</span>\n        <span class="toast-message">${e}</span>\n        <button class="toast-close" onclick="closeToast(this)">×</button>\n    `,o.appendChild(s),setTimeout(()=>{s.classList.add("show")},100),setTimeout(()=>{closeToast(s.querySelector(".toast-close"))},5e3)},closeToast=e=>{const t=e.closest(".toast");t.classList.remove("show"),setTimeout(()=>{t.remove()},300)};jQuery(document).ready(function(e){e(document).on("gform_confirmation_loaded",function(t,o){const s=e(".gform-confirmation-message").data("message");s&&showToast(s,"success"),setTimeout(()=>{e(`#gform_confirmation_wrapper_${o}`).hide(),e(`#gform_wrapper_${o}`).show(),e(`#gform_${o}`).show(),e(`#gform_${o}`)[0].reset(),e(`#gform_${o} .gfield_error`).removeClass("gfield_error"),e(`#gform_${o} .validation_message`).remove()},100)})}),document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".filter-button").forEach(e=>{e.addEventListener("click",function(){this.classList.add("loading");const e=this.closest(".drones-by-task"),t=this.closest(".drones-by-size");e?sessionStorage.setItem("scrollToSection","task-showcase"):t&&sessionStorage.setItem("scrollToSection","size-showcase")})});const e=sessionStorage.getItem("scrollToSection");if(e){const t=document.getElementById(e);t&&setTimeout(()=>{t.scrollIntoView({behavior:"smooth",block:"center"})},500),sessionStorage.removeItem("scrollToSection")}}),document.addEventListener("DOMContentLoaded",generateTableOfContents);